server {
    listen 80;

    # Основной location для /admin
    location /admin {
        # alias указывает, что содержимое /admin на сервере
        # соответствует содержимому /usr/share/nginx/html в файловой системе
        alias /usr/share/nginx/html/;
        # try_files пытается найти файл, например, /admin/_app/file.js
        # но так как alias заменяет /admin на /usr/share/nginx/html/,
        # он на самом деле ищет /usr/share/nginx/html/_app/file.js
        try_files $uri $uri/ /admin/index.html; # Для SPA
    }

    # Location для корня, если кто-то случайно зайдет по корню
    # (например, при тестировании NodePort)
    location / {
         # Если вы хотите, чтобы корень тоже работал как /admin (для тестов в Docker)
         alias /usr/share/nginx/html/;
         try_files $uri $uri/ /index.html;
         # Или просто вернуть ошибку 404, если доступ только через /admin
         return 404;
    }
}

